<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Profit Tracker & Invoices</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <!-- Top Header Bar -->
    <header class="dashboard-header">
        <div class="header-left">
            <h1>Profit Tracker & Invoices</h1>
            <button class="refresh-btn" title="Refresh" onclick="window.location.reload()">â†»</button>
        </div>
        <div class="header-right">
            <button class="btn-secondary" id="profit-tracker-btn" title="Track daily revenue and expenses">
                ðŸ’° Profit Tracker
            </button>
            <button class="btn-secondary" id="client-tracker-btn" title="View all clients and prospects">
                ðŸ‘¥ Clients
            </button>
            <button class="btn-primary" id="new-invoice-btn" onclick="window.location.href='invoice.html'">
                + Invoice
            </button>
        </div>
    </header>

    <!-- Main Dashboard -->
    <main class="dashboard-main">
        <!-- Calendar Hero Section -->
        <section class="calendar-hero-section">
            <div class="section-header">
                <h2>ðŸ“… Appointment Calendar</h2>
                <div class="calendar-nav-hero">
                    <button class="btn-secondary" id="prev-month-hero">â€¹</button>
                    <span id="current-month-year-hero">January 2025</span>
                    <button class="btn-secondary" id="next-month-hero">â€º</button>
                    <button class="btn-secondary" id="today-btn-calendar-hero">Today</button>
                </div>
            </div>
            
            <!-- Calendar Grid -->
            <div class="calendar-grid-hero">
                <div class="calendar-header-hero">
                    <div class="day-header-hero">Sun</div>
                    <div class="day-header-hero">Mon</div>
                    <div class="day-header-hero">Tue</div>
                    <div class="day-header-hero">Wed</div>
                    <div class="day-header-hero">Thu</div>
                    <div class="day-header-hero">Fri</div>
                    <div class="day-header-hero">Sat</div>
                </div>
                <div class="calendar-days-hero" id="calendar-days-hero">
                    <!-- Calendar days will be populated here -->
                </div>
            </div>
        </section>

        <!-- Profit Tracker Section -->
        <section class="profit-tracker-section">
            <div class="section-header">
                <h2>Monthly Profit Tracker</h2>
                <div class="date-controls">
                    <button class="btn-secondary" id="prev-month">â€¹ Previous</button>
                    <span id="current-month-year">January 2025</span>
                    <button class="btn-secondary" id="next-month">Next â€º</button>
                </div>
            </div>
            
            <!-- Monthly Chart -->
            <div class="profit-chart-container">
                <canvas id="profit-chart" width="800" height="300"></canvas>
            </div>
            
            <!-- Monthly Summary Cards -->
            <div class="summary-cards">
                <div class="summary-card">
                    <div class="card-label">This Month</div>
                    <div class="card-amount" id="this-month-total">$0.00</div>
                </div>
                <div class="summary-card">
                    <div class="card-label">Last Month</div>
                    <div class="card-amount" id="last-month-total">$0.00</div>
                </div>
                <div class="summary-card">
                    <div class="card-label">This Year</div>
                    <div class="card-amount" id="this-year-total">$0.00</div>
                </div>
                <div class="summary-card">
                    <div class="card-label">Total Invoices</div>
                    <div class="card-amount" id="total-invoices">0</div>
                </div>
            </div>
        </section>

        <!-- Invoice List Section -->
        <section class="invoice-list-section">
            <div class="section-header">
                <h2>All Invoices</h2>
                <div class="list-controls">
                    <input type="text" id="invoice-search" placeholder="Search invoices..." />
                    <select id="status-filter">
                        <option value="">All Status</option>
                        <option value="draft">Draft</option>
                        <option value="sent">Sent</option>
                        <option value="paid">Paid</option>
                        <option value="overdue">Overdue</option>
                    </select>
                    <select id="sort-by">
                        <option value="service-date">Service Date</option>
                        <option value="invoice-date">Invoice Date</option>
                        <option value="amount">Amount</option>
                        <option value="customer">Customer</option>
                    </select>
                </div>
            </div>
            
            <!-- Invoice Table -->
            <div class="invoice-table-container">
                <table class="invoice-table">
                    <thead>
                        <tr>
                            <th>Invoice #</th>
                            <th>Customer</th>
                            <th>Service Date</th>
                            <th>Invoice Date</th>
                            <th>Due Date</th>
                            <th>Amount</th>
                            <th>Status</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody id="invoice-list-tbody">
                        <!-- Invoice rows will be populated here -->
                    </tbody>
                </table>
            </div>
            
            <!-- Empty State -->
            <div id="empty-state" class="empty-state" style="display: none;">
                <div class="empty-icon">ðŸ“„</div>
                <h3>No invoices yet</h3>
                <p>Create your first invoice to start tracking your profits</p>
                <button class="btn-primary" onclick="window.location.href='invoice.html'">+ Create Invoice</button>
            </div>
        </section>
    </main>

    <!-- Success Message -->
    <div id="success-message" class="success-message" style="display: none;">
        Invoice saved successfully!
    </div>

    <!-- Client Tracker Modal -->
    <div id="client-tracker-modal" class="modal" style="display: none;">
        <div class="modal-content large-modal">
            <div class="modal-header">
                <h3>Client & Prospect Tracker</h3>
                <button type="button" class="modal-close" id="close-client-tracker">&times;</button>
            </div>
            <div class="client-tracker-content">
                <div class="client-stats">
                    <div class="stat-card">
                        <div class="stat-number" id="total-clients">0</div>
                        <div class="stat-label">Total Clients</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number" id="hot-prospects">0</div>
                        <div class="stat-label">Hot Prospects</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number" id="needs-followup">0</div>
                        <div class="stat-label">Need Follow-up</div>
                    </div>
                </div>
                <div class="client-filters">
                    <input type="text" id="client-search" placeholder="Search clients...">
                    <select id="warmth-filter">
                        <option value="">All Warmth Levels</option>
                        <option value="hot">Hot (8-10)</option>
                        <option value="warm">Warm (5-7)</option>
                        <option value="cold">Cold (1-4)</option>
                    </select>
                    <select id="status-filter-clients">
                        <option value="">All Status</option>
                        <option value="client">Active Clients</option>
                        <option value="prospect">Prospects</option>
                    </select>
                </div>
                <div class="client-list-container">
                    <table class="client-table">
                        <thead>
                            <tr>
                                <th>Name</th>
                                <th>Company</th>
                                <th>Warmth</th>
                                <th>Last Contact</th>
                                <th>Recommendation</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="client-list-tbody">
                            <!-- Client rows will be populated here -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <!-- Revenue & Expense Tracker Modal -->
    <div id="profit-tracker-modal" class="modal" style="display: none;">
        <div class="modal-content large-modal">
            <div class="modal-header">
                <h3>Daily Profit Tracker</h3>
                <button type="button" class="modal-close" id="close-profit-tracker">&times;</button>
            </div>
            <div class="profit-tracker-content">
                <!-- Date Selector -->
                <div class="date-selector">
                    <label for="tracker-date">Date:</label>
                    <input type="date" id="tracker-date" value="">
                    <button class="btn-secondary" id="today-btn">Today</button>
                    <button class="btn-secondary" id="add-entry-btn">+ Add Entry</button>
                </div>

                <!-- Daily Entry Form -->
                <div class="daily-entry-form" id="daily-entry-form" style="display: none;">
                    <h4>Daily Revenue & Expenses</h4>
                    <div class="entry-form-grid">
                        <div class="revenue-section">
                            <h5>ðŸ’° Revenue</h5>
                            <div class="entry-list" id="revenue-entries">
                                <!-- Revenue entries will be added here -->
                            </div>
                            <button class="btn-small" id="add-revenue-btn">+ Add Revenue</button>
                        </div>
                        
                        <div class="expense-section">
                            <h5>ðŸ’¸ Expenses</h5>
                            <div class="entry-list" id="expense-entries">
                                <!-- Expense entries will be added here -->
                            </div>
                            <button class="btn-small" id="add-expense-btn">+ Add Expense</button>
                        </div>
                    </div>
                    
                    <div class="daily-notes">
                        <label for="daily-notes">Daily Notes:</label>
                        <textarea id="daily-notes" rows="3" placeholder="Notes about purchases, charges, or other business activities..."></textarea>
                    </div>
                    
                    <div class="daily-summary">
                        <div class="summary-row">
                            <span>Total Revenue:</span>
                            <span id="daily-revenue-total">$0.00</span>
                        </div>
                        <div class="summary-row">
                            <span>Total Expenses:</span>
                            <span id="daily-expense-total">$0.00</span>
                        </div>
                        <div class="summary-row profit-row">
                            <span>Daily Profit:</span>
                            <span id="daily-profit">$0.00</span>
                        </div>
                    </div>
                    
                    <div class="entry-actions">
                        <button class="btn-cancel" id="cancel-daily-entry">Cancel</button>
                        <button class="btn-primary" id="save-daily-entry">Save Day</button>
                    </div>
                </div>

                <!-- Profit Visualization -->
                <div class="profit-visualization">
                    <div class="chart-controls">
                        <h4>Profit Trends</h4>
                        <div class="chart-filters">
                            <select id="chart-period">
                                <option value="week">Last 7 Days</option>
                                <option value="month">Last 30 Days</option>
                                <option value="quarter">Last 90 Days</option>
                            </select>
                            <button class="btn-small" id="refresh-chart">Refresh</button>
                        </div>
                    </div>
                    <div class="profit-chart-container">
                        <canvas id="profit-chart" width="800" height="400"></canvas>
                    </div>
                </div>

                <!-- Daily Entries List -->
                <div class="daily-entries-list">
                    <h4>Recent Entries</h4>
                    <div class="entries-table-container">
                        <table class="entries-table">
                            <thead>
                                <tr>
                                    <th>Date</th>
                                    <th>Revenue</th>
                                    <th>Expenses</th>
                                    <th>Profit</th>
                                    <th>Notes</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="entries-list-tbody">
                                <!-- Daily entries will be populated here -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Calendar Modal -->
    <div id="calendar-modal" class="modal" style="display: none;">
        <div class="modal-content large-modal">
            <div class="modal-header">
                <h3>ðŸ“… Appointment Calendar</h3>
                <button type="button" class="modal-close" id="close-calendar">&times;</button>
            </div>
            <div class="calendar-content">
                <!-- Calendar Navigation -->
                <div class="calendar-nav">
                    <button class="btn-secondary" id="prev-month">â€¹</button>
                    <h4 id="current-month-year">January 2025</h4>
                    <button class="btn-secondary" id="next-month">â€º</button>
                    <button class="btn-secondary" id="today-btn-calendar">Today</button>
                </div>

                <!-- Calendar Grid -->
                <div class="calendar-grid">
                    <div class="calendar-header">
                        <div class="day-header">Sun</div>
                        <div class="day-header">Mon</div>
                        <div class="day-header">Tue</div>
                        <div class="day-header">Wed</div>
                        <div class="day-header">Thu</div>
                        <div class="day-header">Fri</div>
                        <div class="day-header">Sat</div>
                    </div>
                    <div class="calendar-days" id="calendar-days">
                        <!-- Calendar days will be populated here -->
                    </div>
                </div>

                <!-- Appointment Modal -->
                <div id="appointment-modal" class="modal" style="display: none;">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h3 id="appointment-modal-title">Schedule Appointment</h3>
                            <button type="button" class="modal-close" id="close-appointment-modal">&times;</button>
                        </div>
                        <form id="appointment-form">
                            <div class="form-group">
                                <label for="appointment-date">Date</label>
                                <input type="date" id="appointment-date" required>
                            </div>
                            
                            <div class="form-group">
                                <label for="appointment-client">Client</label>
                                <select id="appointment-client" required>
                                    <option value="">Select a client</option>
                                </select>
                            </div>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="start-time">Start Time</label>
                                    <input type="time" id="start-time" required>
                                </div>
                                <div class="form-group">
                                    <label for="end-time">End Time</label>
                                    <input type="time" id="end-time" required>
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label for="appointment-color">Color</label>
                                <div class="color-picker">
                                    <label class="color-option">
                                        <input type="radio" name="appointment-color" value="blue" checked>
                                        <span class="color-circle blue"></span>
                                        Blue
                                    </label>
                                    <label class="color-option">
                                        <input type="radio" name="appointment-color" value="green">
                                        <span class="color-circle green"></span>
                                        Green
                                    </label>
                                    <label class="color-option">
                                        <input type="radio" name="appointment-color" value="orange">
                                        <span class="color-circle orange"></span>
                                        Orange
                                    </label>
                                    <label class="color-option">
                                        <input type="radio" name="appointment-color" value="purple">
                                        <span class="color-circle purple"></span>
                                        Purple
                                    </label>
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label for="appointment-notes">Notes</label>
                                <textarea id="appointment-notes" rows="3" placeholder="Additional notes about this appointment..."></textarea>
                            </div>
                            
                            <div class="modal-actions">
                                <button type="button" class="btn-cancel" id="cancel-appointment">Cancel</button>
                                <button type="submit" class="btn-primary" id="save-appointment">Save Appointment</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="js/main.js"></script>
</body>
</html>