<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Profit Tracker & Invoices</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <!-- Top Header Bar -->
    <header class="dashboard-header">
        <div class="header-left">
            <h1>Profit Tracker & Invoices</h1>
            <button class="refresh-btn" title="Refresh" onclick="window.location.reload()">‚Üª</button>
        </div>
        <div class="header-right">
            <button class="btn-secondary" id="smart-scheduler-btn" title="AI-powered smart scheduling">
                üß† Smart Scheduler
            </button>
            <button class="btn-secondary" id="profit-tracker-btn" title="Track daily revenue and expenses">
                üí∞ Profit Tracker
            </button>
            <button class="btn-secondary" id="client-tracker-btn" title="View all clients and prospects">
                üë• Clients
            </button>
            <button class="btn-primary" id="new-invoice-btn" onclick="window.location.href='invoice.html'">
                + Invoice
            </button>
        </div>
    </header>

    <!-- Main Dashboard -->
    <main class="dashboard-main">
        <!-- Calendar Hero Section -->
        <section class="calendar-hero-section">
            <div class="section-header">
                <h2>üìÖ Appointment Calendar</h2>
                <div class="calendar-nav-hero">
                    <button class="btn-secondary" id="prev-month-hero">‚Äπ</button>
                    <span id="current-month-year-hero">January 2025</span>
                    <button class="btn-secondary" id="next-month-hero">‚Ä∫</button>
                    <button class="btn-secondary" id="today-btn-calendar-hero">Today</button>
                </div>
            </div>
            
            <!-- Calendar Grid -->
            <div class="calendar-grid-hero">
                <div class="calendar-header-hero">
                    <div class="day-header-hero">Sun</div>
                    <div class="day-header-hero">Mon</div>
                    <div class="day-header-hero">Tue</div>
                    <div class="day-header-hero">Wed</div>
                    <div class="day-header-hero">Thu</div>
                    <div class="day-header-hero">Fri</div>
                    <div class="day-header-hero">Sat</div>
                </div>
                <div class="calendar-days-hero" id="calendar-days-hero">
                    <!-- Calendar days will be populated here -->
                </div>
            </div>
        </section>

        <!-- Profit Tracker Section -->
        <section class="profit-tracker-section">
            <div class="section-header">
                <h2>Monthly Profit Tracker</h2>
                <div class="date-controls">
                    <button class="btn-secondary" id="prev-month">‚Äπ Previous</button>
                    <span id="current-month-year">January 2025</span>
                    <button class="btn-secondary" id="next-month">Next ‚Ä∫</button>
                </div>
            </div>
            
            <!-- Monthly Chart -->
            <div class="profit-chart-container">
                <canvas id="profit-chart" width="800" height="300"></canvas>
            </div>
            
            <!-- Monthly Summary Cards -->
            <div class="summary-cards">
                <div class="summary-card">
                    <div class="card-label">This Month</div>
                    <div class="card-amount" id="this-month-total">$0.00</div>
                </div>
                <div class="summary-card">
                    <div class="card-label">Last Month</div>
                    <div class="card-amount" id="last-month-total">$0.00</div>
                </div>
                <div class="summary-card">
                    <div class="card-label">This Year</div>
                    <div class="card-amount" id="this-year-total">$0.00</div>
                </div>
                <div class="summary-card">
                    <div class="card-label">Total Invoices</div>
                    <div class="card-amount" id="total-invoices">0</div>
                </div>
            </div>
        </section>

        <!-- Invoice List Section -->
        <section class="invoice-list-section">
            <div class="section-header">
                <h2>All Invoices</h2>
                <div class="list-controls">
                    <input type="text" id="invoice-search" placeholder="Search invoices..." />
                    <select id="status-filter">
                        <option value="">All Status</option>
                        <option value="draft">Draft</option>
                        <option value="sent">Sent</option>
                        <option value="paid">Paid</option>
                        <option value="overdue">Overdue</option>
                    </select>
                    <select id="sort-by">
                        <option value="service-date">Service Date</option>
                        <option value="invoice-date">Invoice Date</option>
                        <option value="amount">Amount</option>
                        <option value="customer">Customer</option>
                    </select>
                </div>
            </div>
            
            <!-- Invoice Table -->
            <div class="invoice-table-container">
                <table class="invoice-table">
                    <thead>
                        <tr>
                            <th>Invoice #</th>
                            <th>Customer</th>
                            <th>Service Date</th>
                            <th>Invoice Date</th>
                            <th>Due Date</th>
                            <th>Amount</th>
                            <th>Status</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody id="invoice-list-tbody">
                        <!-- Invoice rows will be populated here -->
                    </tbody>
                </table>
            </div>
            
            <!-- Empty State -->
            <div id="empty-state" class="empty-state" style="display: none;">
                <div class="empty-icon">üìÑ</div>
                <h3>No invoices yet</h3>
                <p>Create your first invoice to start tracking your profits</p>
                <button class="btn-primary" onclick="window.location.href='invoice.html'">+ Create Invoice</button>
            </div>
        </section>
    </main>

    <!-- Success Message -->
    <div id="success-message" class="success-message" style="display: none;">
        Invoice saved successfully!
    </div>

    <!-- Client Tracker Modal -->
    <div id="client-tracker-modal" class="modal" style="display: none;">
        <div class="modal-content large-modal">
            <div class="modal-header">
                <h3>Client & Prospect Tracker</h3>
                <button type="button" class="modal-close" id="close-client-tracker">&times;</button>
            </div>
            <div class="client-tracker-content">
                <div class="client-stats">
                    <div class="stat-card">
                        <div class="stat-number" id="total-clients">0</div>
                        <div class="stat-label">Total Clients</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number" id="hot-prospects">0</div>
                        <div class="stat-label">Hot Prospects</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number" id="needs-followup">0</div>
                        <div class="stat-label">Need Follow-up</div>
                    </div>
                </div>
                <div class="client-filters">
                    <input type="text" id="client-search" placeholder="Search clients...">
                    <select id="warmth-filter">
                        <option value="">All Warmth Levels</option>
                        <option value="hot">Hot (8-10)</option>
                        <option value="warm">Warm (5-7)</option>
                        <option value="cold">Cold (1-4)</option>
                    </select>
                    <select id="status-filter-clients">
                        <option value="">All Status</option>
                        <option value="client">Active Clients</option>
                        <option value="prospect">Prospects</option>
                    </select>
                </div>
                <div class="client-list-container">
                    <table class="client-table">
                        <thead>
                            <tr>
                                <th>Name</th>
                                <th>Company</th>
                                <th>Warmth</th>
                                <th>Last Contact</th>
                                <th>Recommendation</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="client-list-tbody">
                            <!-- Client rows will be populated here -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <!-- Revenue & Expense Tracker Modal -->
    <div id="profit-tracker-modal" class="modal" style="display: none;">
        <div class="modal-content large-modal">
            <div class="modal-header">
                <h3>Daily Profit Tracker</h3>
                <button type="button" class="modal-close" id="close-profit-tracker">&times;</button>
            </div>
            <div class="profit-tracker-content">
                <!-- Date Selector -->
                <div class="date-selector">
                    <label for="tracker-date">Date:</label>
                    <input type="date" id="tracker-date" value="">
                    <button class="btn-secondary" id="today-btn">Today</button>
                    <button class="btn-secondary" id="add-entry-btn">+ Add Entry</button>
                </div>

                <!-- Daily Entry Form -->
                <div class="daily-entry-form" id="daily-entry-form" style="display: none;">
                    <h4>Daily Revenue & Expenses</h4>
                    <div class="entry-form-grid">
                        <div class="revenue-section">
                            <h5>üí∞ Revenue</h5>
                            <div class="entry-list" id="revenue-entries">
                                <!-- Revenue entries will be added here -->
                            </div>
                            <button class="btn-small" id="add-revenue-btn">+ Add Revenue</button>
                        </div>
                        
                        <div class="expense-section">
                            <h5>üí∏ Expenses</h5>
                            <div class="entry-list" id="expense-entries">
                                <!-- Expense entries will be added here -->
                            </div>
                            <button class="btn-small" id="add-expense-btn">+ Add Expense</button>
                        </div>
                    </div>
                    
                    <div class="daily-notes">
                        <label for="daily-notes">Daily Notes:</label>
                        <textarea id="daily-notes" rows="3" placeholder="Notes about purchases, charges, or other business activities..."></textarea>
                    </div>
                    
                    <div class="daily-summary">
                        <div class="summary-row">
                            <span>Total Revenue:</span>
                            <span id="daily-revenue-total">$0.00</span>
                        </div>
                        <div class="summary-row">
                            <span>Total Expenses:</span>
                            <span id="daily-expense-total">$0.00</span>
                        </div>
                        <div class="summary-row profit-row">
                            <span>Daily Profit:</span>
                            <span id="daily-profit">$0.00</span>
                        </div>
                    </div>
                    
                    <div class="entry-actions">
                        <button class="btn-cancel" id="cancel-daily-entry">Cancel</button>
                        <button class="btn-primary" id="save-daily-entry">Save Day</button>
                    </div>
                </div>

                <!-- Profit Visualization -->
                <div class="profit-visualization">
                    <div class="chart-controls">
                        <h4>Profit Trends</h4>
                        <div class="chart-filters">
                            <select id="chart-period">
                                <option value="week">Last 7 Days</option>
                                <option value="month">Last 30 Days</option>
                                <option value="quarter">Last 90 Days</option>
                            </select>
                            <button class="btn-small" id="refresh-chart">Refresh</button>
                        </div>
                    </div>
                    <div class="profit-chart-container">
                        <canvas id="profit-chart" width="800" height="400"></canvas>
                    </div>
                </div>

                <!-- Daily Entries List -->
                <div class="daily-entries-list">
                    <h4>Recent Entries</h4>
                    <div class="entries-table-container">
                        <table class="entries-table">
                            <thead>
                                <tr>
                                    <th>Date</th>
                                    <th>Revenue</th>
                                    <th>Expenses</th>
                                    <th>Profit</th>
                                    <th>Notes</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="entries-list-tbody">
                                <!-- Daily entries will be populated here -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Calendar Modal -->
    <div id="calendar-modal" class="modal" style="display: none;">
        <div class="modal-content large-modal">
            <div class="modal-header">
                <h3>üìÖ Appointment Calendar</h3>
                <button type="button" class="modal-close" id="close-calendar">&times;</button>
            </div>
            <div class="calendar-content">
                <!-- Calendar Navigation -->
                <div class="calendar-nav">
                    <button class="btn-secondary" id="prev-month">‚Äπ</button>
                    <h4 id="current-month-year">January 2025</h4>
                    <button class="btn-secondary" id="next-month">‚Ä∫</button>
                    <button class="btn-secondary" id="today-btn-calendar">Today</button>
                </div>

                <!-- Calendar Grid -->
                <div class="calendar-grid">
                    <div class="calendar-header">
                        <div class="day-header">Sun</div>
                        <div class="day-header">Mon</div>
                        <div class="day-header">Tue</div>
                        <div class="day-header">Wed</div>
                        <div class="day-header">Thu</div>
                        <div class="day-header">Fri</div>
                        <div class="day-header">Sat</div>
                    </div>
                    <div class="calendar-days" id="calendar-days">
                        <!-- Calendar days will be populated here -->
                    </div>
                </div>

                <!-- Appointment Modal -->
                <div id="appointment-modal" class="modal" style="display: none;">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h3 id="appointment-modal-title">Schedule Appointment</h3>
                            <button type="button" class="modal-close" id="close-appointment-modal">&times;</button>
                        </div>
                        <form id="appointment-form">
                            <div class="form-group">
                                <label for="appointment-date">Date</label>
                                <input type="date" id="appointment-date" required>
                            </div>
                            
                            <div class="form-group">
                                <label for="appointment-client">Client</label>
                                <select id="appointment-client" required>
                                    <option value="">Select a client</option>
                                </select>
                            </div>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="start-time">Start Time</label>
                                    <input type="time" id="start-time" required>
                                </div>
                                <div class="form-group">
                                    <label for="end-time">End Time</label>
                                    <input type="time" id="end-time" required>
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label for="appointment-color">Color</label>
                                <div class="color-picker">
                                    <label class="color-option">
                                        <input type="radio" name="appointment-color" value="blue" checked>
                                        <span class="color-circle blue"></span>
                                        Blue
                                    </label>
                                    <label class="color-option">
                                        <input type="radio" name="appointment-color" value="green">
                                        <span class="color-circle green"></span>
                                        Green
                                    </label>
                                    <label class="color-option">
                                        <input type="radio" name="appointment-color" value="orange">
                                        <span class="color-circle orange"></span>
                                        Orange
                                    </label>
                                    <label class="color-option">
                                        <input type="radio" name="appointment-color" value="purple">
                                        <span class="color-circle purple"></span>
                                        Purple
                                    </label>
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label for="appointment-notes">Notes</label>
                                <textarea id="appointment-notes" rows="3" placeholder="Additional notes about this appointment..."></textarea>
                            </div>
                            
                            <div class="modal-actions">
                                <button type="button" class="btn-cancel" id="cancel-appointment">Cancel</button>
                                <button type="submit" class="btn-primary" id="save-appointment">Save Appointment</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Smart Scheduler Modal -->
    <div id="smart-scheduler-modal" class="modal" style="display: none;">
        <div class="modal-content large-modal">
            <div class="modal-header">
                <h3>üß† Smart Scheduler</h3>
                <button type="button" class="modal-close" id="close-smart-scheduler">&times;</button>
            </div>
            <div class="smart-scheduler-content">
                <!-- Setup Wizard -->
                <div id="setup-wizard" class="setup-wizard">
                    <div class="wizard-progress">
                        <div class="progress-bar">
                            <div class="progress-fill" id="wizard-progress"></div>
                        </div>
                        <div class="progress-text">
                            <span id="current-step">1</span> of 5
                        </div>
                    </div>
                    
                    <div class="wizard-content">
                        <!-- Step 1: Monthly Profit Goal -->
                        <div class="wizard-step active" id="step-1">
                            <h4>üí∞ What's your monthly profit goal?</h4>
                            <p>This helps us calculate your daily revenue targets</p>
                            <div class="goal-options">
                                <label class="goal-option">
                                    <input type="radio" name="profit-goal" value="5000">
                                    <div class="option-card">
                                        <div class="option-amount">$5,000</div>
                                        <div class="option-desc">Getting Started</div>
                                    </div>
                                </label>
                                <label class="goal-option">
                                    <input type="radio" name="profit-goal" value="10000">
                                    <div class="option-card">
                                        <div class="option-amount">$10,000</div>
                                        <div class="option-desc">Growing Business</div>
                                    </div>
                                </label>
                                <label class="goal-option">
                                    <input type="radio" name="profit-goal" value="15000">
                                    <div class="option-card">
                                        <div class="option-amount">$15,000</div>
                                        <div class="option-desc">Established</div>
                                    </div>
                                </label>
                                <label class="goal-option">
                                    <input type="radio" name="profit-goal" value="20000">
                                    <div class="option-card">
                                        <div class="option-amount">$20,000+</div>
                                        <div class="option-desc">Scaling Up</div>
                                    </div>
                                </label>
                            </div>
                        </div>

                        <!-- Step 2: Work Days -->
                        <div class="wizard-step" id="step-2">
                            <h4>üìÖ How many days do you work per week?</h4>
                            <p>We'll distribute your schedule across these days</p>
                            <div class="workday-options">
                                <label class="workday-option">
                                    <input type="radio" name="work-days" value="5">
                                    <div class="option-card">
                                        <div class="option-icon">üìù</div>
                                        <div class="option-title">5 Days</div>
                                        <div class="option-desc">Monday - Friday</div>
                                    </div>
                                </label>
                                <label class="workday-option">
                                    <input type="radio" name="work-days" value="6">
                                    <div class="option-card">
                                        <div class="option-icon">‚ö°</div>
                                        <div class="option-title">6 Days</div>
                                        <div class="option-desc">Monday - Saturday</div>
                                    </div>
                                </label>
                                <label class="workday-option">
                                    <input type="radio" name="work-days" value="7">
                                    <div class="option-card">
                                        <div class="option-icon">üî•</div>
                                        <div class="option-title">7 Days</div>
                                        <div class="option-desc">Full Week</div>
                                    </div>
                                </label>
                            </div>
                        </div>

                        <!-- Step 3: Activity Types -->
                        <div class="wizard-step" id="step-3">
                            <h4>üéØ What are your main activity types?</h4>
                            <p>Select all that apply - we'll color-code your schedule</p>
                            <div class="activity-options">
                                <label class="activity-option">
                                    <input type="checkbox" name="activities" value="client-meetings">
                                    <div class="activity-card blue">
                                        <div class="activity-icon">ü§ù</div>
                                        <div class="activity-title">Client Meetings</div>
                                        <div class="activity-desc">Consultations, calls, presentations</div>
                                    </div>
                                </label>
                                <label class="activity-option">
                                    <input type="checkbox" name="activities" value="field-work">
                                    <div class="activity-card green">
                                        <div class="activity-icon">üîß</div>
                                        <div class="activity-title">Field Work</div>
                                        <div class="activity-desc">On-site services, installations</div>
                                    </div>
                                </label>
                                <label class="activity-option">
                                    <input type="checkbox" name="activities" value="admin">
                                    <div class="activity-card orange">
                                        <div class="activity-icon">üìã</div>
                                        <div class="activity-title">Admin Work</div>
                                        <div class="activity-desc">Paperwork, emails, planning</div>
                                    </div>
                                </label>
                                <label class="activity-option">
                                    <input type="checkbox" name="activities" value="prospecting">
                                    <div class="activity-card purple">
                                        <div class="activity-icon">üéØ</div>
                                        <div class="activity-title">Prospecting</div>
                                        <div class="activity-desc">Lead generation, networking</div>
                                    </div>
                                </label>
                            </div>
                        </div>

                        <!-- Step 4: Working Hours -->
                        <div class="wizard-step" id="step-4">
                            <h4>‚è∞ What are your preferred working hours?</h4>
                            <p>We'll schedule your high-value activities during these times</p>
                            <div class="hours-options">
                                <label class="hours-option">
                                    <input type="radio" name="work-hours" value="8-5">
                                    <div class="option-card">
                                        <div class="option-time">8:00 AM - 5:00 PM</div>
                                        <div class="option-desc">Traditional Business Hours</div>
                                    </div>
                                </label>
                                <label class="hours-option">
                                    <input type="radio" name="work-hours" value="9-6">
                                    <div class="option-card">
                                        <div class="option-time">9:00 AM - 6:00 PM</div>
                                        <div class="option-desc">Slightly Later Start</div>
                                    </div>
                                </label>
                                <label class="hours-option">
                                    <input type="radio" name="work-hours" value="10-7">
                                    <div class="option-card">
                                        <div class="option-time">10:00 AM - 7:00 PM</div>
                                        <div class="option-desc">Late Start, Late Finish</div>
                                    </div>
                                </label>
                                <label class="hours-option">
                                    <input type="radio" name="work-hours" value="flexible">
                                    <div class="option-card">
                                        <div class="option-time">Flexible</div>
                                        <div class="option-desc">I adapt to client needs</div>
                                    </div>
                                </label>
                            </div>
                        </div>

                        <!-- Step 5: Buffer Time -->
                        <div class="wizard-step" id="step-5">
                            <h4>‚è±Ô∏è How much buffer time between appointments?</h4>
                            <p>This prevents scheduling conflicts and allows for travel/prep time</p>
                            <div class="buffer-options">
                                <label class="buffer-option">
                                    <input type="radio" name="buffer-time" value="15">
                                    <div class="option-card">
                                        <div class="option-duration">15 minutes</div>
                                        <div class="option-desc">Quick transitions</div>
                                    </div>
                                </label>
                                <label class="buffer-option">
                                    <input type="radio" name="buffer-time" value="30">
                                    <div class="option-card">
                                        <div class="option-duration">30 minutes</div>
                                        <div class="option-desc">Comfortable spacing</div>
                                    </div>
                                </label>
                                <label class="buffer-option">
                                    <input type="radio" name="buffer-time" value="60">
                                    <div class="option-card">
                                        <div class="option-duration">1 hour</div>
                                        <div class="option-desc">Lots of breathing room</div>
                                    </div>
                                </label>
                            </div>
                        </div>
                    </div>
                    
                    <div class="wizard-actions">
                        <button type="button" class="btn-secondary" id="wizard-back" style="display: none;">‚Üê Back</button>
                        <button type="button" class="btn-primary" id="wizard-next">Next ‚Üí</button>
                        <button type="button" class="btn-primary" id="wizard-generate" style="display: none;">üöÄ Generate Schedule</button>
                    </div>
                </div>

                <!-- Generated Schedule -->
                <div id="generated-schedule" class="generated-schedule" style="display: none;">
                    <div class="schedule-header">
                        <h4>üéØ Your Smart Schedule</h4>
                        <p>Based on your preferences, here's your optimized 1-week schedule:</p>
                    </div>
                    
                    <div class="schedule-summary">
                        <div class="summary-item">
                            <div class="summary-label">Daily Revenue Target</div>
                            <div class="summary-value" id="daily-revenue-target">$0</div>
                        </div>
                        <div class="summary-item">
                            <div class="summary-label">Work Days</div>
                            <div class="summary-value" id="work-days-summary">0</div>
                        </div>
                        <div class="summary-item">
                            <div class="summary-label">Total Appointments</div>
                            <div class="summary-value" id="total-appointments">0</div>
                        </div>
                    </div>
                    
                    <div class="schedule-week" id="schedule-week">
                        <!-- Generated schedule will appear here -->
                    </div>
                    
                    <div class="schedule-actions">
                        <button type="button" class="btn-secondary" id="regenerate-schedule">üîÑ Regenerate</button>
                        <button type="button" class="btn-primary" id="save-schedule">üíæ Save to Calendar</button>
                        <button type="button" class="btn-secondary" id="edit-schedule">‚úèÔ∏è Edit Schedule</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="js/main.js"></script>
</body>
</html>