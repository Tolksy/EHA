<!-- Add Task Modal - Game Style -->
<div id="add-task-modal" class="modal game-modal" style="display: none;">
    <div class="modal-content game-modal-content">
        <div class="modal-header">
            <h3>üéØ Create New Mission</h3>
            <button type="button" class="modal-close" id="close-add-task">&times;</button>
        </div>
        
        <!-- Quick Templates -->
        <div class="task-templates">
            <h4>Quick Start Templates</h4>
            <div class="template-grid">
                <button class="template-card" data-template="hvac-install">
                    <div class="template-icon">üîß</div>
                    <div class="template-title">HVAC Install</div>
                    <div class="template-desc">Equipment installation</div>
                    <div class="template-details">2h ‚Ä¢ $100/hr ‚Ä¢ $200</div>
                </button>
                <button class="template-card" data-template="hvac-repair">
                    <div class="template-icon">üõ†Ô∏è</div>
                    <div class="template-title">HVAC Repair</div>
                    <div class="template-desc">System troubleshooting</div>
                    <div class="template-details">1.5h ‚Ä¢ $100/hr ‚Ä¢ $150</div>
                </button>
                <button class="template-card" data-template="sales-call">
                    <div class="template-icon">üìû</div>
                    <div class="template-title">Sales Call</div>
                    <div class="template-desc">Client prospecting</div>
                    <div class="template-details">1h ‚Ä¢ $75/hr ‚Ä¢ $75</div>
                </button>
                <button class="template-card" data-template="site-visit">
                    <div class="template-icon">üè†</div>
                    <div class="template-title">Site Visit</div>
                    <div class="template-desc">Property assessment</div>
                    <div class="template-details">3h ‚Ä¢ $100/hr ‚Ä¢ $300</div>
                </button>
            </div>
        </div>

        <!-- Smart Input Form -->
        <form id="add-task-form" class="game-form">
            <div class="input-section">
                <div class="form-group">
                    <label for="task-title">Mission Objective</label>
                    <div class="smart-input">
                        <input type="text" id="task-title" required placeholder="What needs to be done?">
                        <div class="input-suggestions" id="title-suggestions">
                            <div class="suggestion-item">Install new HVAC system</div>
                            <div class="suggestion-item">Repair existing unit</div>
                            <div class="suggestion-item">Annual maintenance check</div>
                            <div class="suggestion-item">Duct cleaning service</div>
                        </div>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="task-client">Client Target</label>
                    <div class="smart-input">
                        <input type="text" id="task-client" placeholder="Who are we working for?">
                        <div class="input-suggestions" id="client-suggestions">
                            <div class="suggestion-item">John Smith</div>
                            <div class="suggestion-item">Sarah Johnson</div>
                            <div class="suggestion-item">Mike's Auto Shop</div>
                            <div class="suggestion-item">Downtown Office Complex</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Category Selection with Visual Feedback -->
            <div class="category-selector">
                <label>Mission Type</label>
                <div class="category-options">
                    <label class="category-option billable">
                        <input type="radio" name="task-category" value="billable" required>
                        <div class="option-card">
                            <div class="option-icon">üí∞</div>
                            <div class="option-title">Billable Work</div>
                            <div class="option-desc">Revenue generating</div>
                            <div class="option-value">+$$$</div>
                        </div>
                    </label>
                    <label class="category-option sales">
                        <input type="radio" name="task-category" value="sales" required>
                        <div class="option-card">
                            <div class="option-icon">üéØ</div>
                            <div class="option-title">Sales & Prospecting</div>
                            <div class="option-desc">Business development</div>
                            <div class="option-value">+Future $</div>
                        </div>
                    </label>
                    <label class="category-option admin">
                        <input type="radio" name="task-category" value="admin" required>
                        <div class="option-card">
                            <div class="option-icon">‚öôÔ∏è</div>
                            <div class="option-title">Admin & Planning</div>
                            <div class="option-desc">Support activities</div>
                            <div class="option-value">+Efficiency</div>
                        </div>
                    </label>
                </div>
            </div>

            <!-- Duration Slider with Visual Feedback -->
            <div class="duration-selector">
                <label for="task-duration">Mission Duration</label>
                <div class="duration-slider">
                    <input type="range" id="task-duration" min="0.5" max="8" step="0.5" value="2">
                    <div class="slider-labels">
                        <span>30min</span>
                        <span id="duration-display">2h</span>
                        <span>8h</span>
                    </div>
                    <div class="duration-visual">
                        <div class="time-blocks" id="time-blocks">
                            <div class="time-block"></div>
                            <div class="time-block"></div>
                            <div class="time-block"></div>
                            <div class="time-block"></div>
                            <div class="time-block"></div>
                            <div class="time-block"></div>
                            <div class="time-block"></div>
                            <div class="time-block"></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Rate Input with Smart Suggestions -->
            <div class="rate-input">
                <label for="task-rate">Hourly Rate</label>
                <div class="rate-selector">
                    <button type="button" class="rate-btn" data-rate="50">$50</button>
                    <button type="button" class="rate-btn" data-rate="75">$75</button>
                    <button type="button" class="rate-btn active" data-rate="100">$100</button>
                    <button type="button" class="rate-btn" data-rate="125">$125</button>
                    <button type="button" class="rate-btn" data-rate="150">$150</button>
                </div>
                <input type="number" id="task-rate" step="0.01" value="100" placeholder="Custom rate">
            </div>

            <!-- Revenue Preview -->
            <div class="revenue-preview">
                <div class="preview-card">
                    <div class="preview-label">Mission Value</div>
                    <div class="preview-amount" id="task-total">$200.00</div>
                    <div class="preview-breakdown">
                        <span id="duration-text">2 hours</span> √ó <span id="rate-text">$100/hr</span>
                    </div>
                </div>
            </div>

            <!-- Calendar Preview -->
            <div class="calendar-preview">
                <label>How it looks on your calendar:</label>
                <div class="preview-calendar-day">
                    <div class="preview-task" id="preview-task">
                        <div class="preview-task-time">9:00 AM</div>
                        <div class="preview-task-title">Your Task Title</div>
                        <div class="preview-task-client">Client Name</div>
                    </div>
                </div>
            </div>
            
            <div class="modal-actions">
                <button type="button" class="btn-cancel" id="cancel-add-task">Cancel</button>
                <button type="submit" class="btn-primary-elegant" id="save-task">
                    <span class="btn-icon">‚ú®</span>
                    <span class="btn-text">Create Mission</span>
                </button>
            </div>
        </form>
    </div>
</div>
